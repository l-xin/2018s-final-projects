# 15 - The Abstraction of STM in Haskell

+ 题目：软件事务内存在Haskell语言中的抽象
+ 成员：安鸣霄

### 摘要

事务通常被认为是过程性的，因此使用强函数式语言在描述事务并不简单。即便如此，经过了长时间的研究和社区的积累，Haskell完成了对事务的抽象。本报告即调研了软件事务内存STM在Haskell中的原理、实现以及应用，旨在面向已有课程内函数式语言设计知识的基础上，理解Haskell中使用STM的理念、方式和具体的实现过程。

### 综述

STM在Haskell中是用于表示事务的Monad。事务具有原子化的性质；但事务往往涉及多个操作，是不可能做到完全的底层原子化。因此事务的原子化体现在其过程要么都完成、要么都不完成。Haskell中使用了`retry-orElse`组合的操作，使得事务的语义更倾向于“一定成功”的过程。第二部分就是通过具体环境下的应用来测试Haskell中STM的行为是否符合预期，其中使用的大部分函数都在第一部分中有可参考的定义。我们可以发现，STM和普通的IO单子在**定义上是同构**的，因此STM和IO的差别体现在实现类型类方式的不同。在第一部分中，通过系统地解释了STM实现各个类型类的语义，我们可以得到STM操作的基本方式。我们可以看到在构建第一部分时使用了一些底层的函数，第三部分将讲解这些底层函数的原理。

### 链接

[第一部分：STM的抽象](abstraction.md)

[第二部分：STM的应用](application.md)

[第三部分：STM的原理](principle.md)